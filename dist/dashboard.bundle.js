!function(e){function a(a){for(var t,c,n=a[0],o=a[1],l=a[2],h=0,m=[];h<n.length;h++)c=n[h],s[c]&&m.push(s[c][0]),s[c]=0;for(t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t]);for(d&&d(a);m.length;)m.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var e,a=0;a<i.length;a++){for(var r=i[a],t=!0,n=1;n<r.length;n++){var o=r[n];0!==s[o]&&(t=!1)}t&&(i.splice(a--,1),e=c(c.s=r[0]))}return e}var t={},s={5:0},i=[];function c(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=t,c.d=function(e,a,r){c.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:r})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,a){if(1&a&&(e=c(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var t in e)c.d(r,t,function(a){return e[a]}.bind(null,t));return r},c.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(a,"a",a),a},c.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},c.p="";var n=window.webpackJsonp=window.webpackJsonp||[],o=n.push.bind(n);n.push=a,n=n.slice();for(var l=0;l<n.length;l++)a(n[l]);var d=o;i.push([49,0,7]),r()}({19:function(e,a,r){"use strict";r.d(a,"a",function(){return s});var t=r(18);function s(){document.querySelectorAll(".mdc-linear-progress").forEach(e=>{const a=e.getAttribute("data-scale");new t.a(e).progress=a})}},2:function(e,a,r){"use strict";async function t(e){const a=await fetch(e);if(a.ok)return await a.json();throw new Error(a.status)}async function s(e,a){const r=await fetch(e,{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});if(r.ok)return await r.json();throw new Error(r.status)}r.d(a,"a",function(){return t}),r.d(a,"b",function(){return s})},30:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Character});const apiKey="e82qmvhf6egvsqdmpemmps2dskp62teu",thumbnail="https://render-us.worldofwarcraft.com/character/",defaultAvatar="themes/core/images/game/generic/avatar/default.jpg",genericAvatar="https://s3.amazonaws.com/files.enjin.com/1604436/images/unknown.jpg",slots=["head","neck","shoulder","back","chest","shirt","wrist","hands","waist","legs","feet","finger1","finger2","trinket1","trinket2","mainHand","offHand"],errorMap={BlizzardOutage:"Blizzard reports this character is temporarily unavailable on the API.",NoBoth:"Character was not found on the armory or RaiderIO.",NoBlizzardYesRaiderIO:"Character may have transferred. Character is not found on the armory, but is on RaiderIO.",NoRaiderIO:"Character was not found on RaiderIO.",None:""};class Character{constructor(e){this.hash=e.hash,this.name=e.name,this.region=e.region,this.realm=e.realm,this.class=e.type,this.race=e.race,this.level=e.level,this.avatar=e.avatar_url.replace(defaultAvatar,genericAvatar),this.isRemovable=!!document.querySelector(".m_appform"),this.raiderIO=null}get characterClass(){return this.class?this.class:this.raiderIO&&this.raiderIO.class?this.raiderIO.class:"Unknown"}get formattedClass(){return this.characterClass.replace(" ","-").toLowerCase()}get blizzardApi(){return"https://"+this.region+".api.battle.net/wow/character/"+this.realm+"/"+this.name+"?fields=items,talents&locale=en_US&apikey="+apiKey}get raiderIOApi(){return"https://raider.io/api/v1/characters/profile?region="+this.region+"&realm="+this.realm+"&name="+this.name+"&fields=gear,raid_progression,mythic_plus_scores,previous_mythic_plus_scores"}get raiderIOProfile(){return this.raiderIO.profile_url?this.raiderIO.profile_url:`https://raider.io/characters/${this.region}/${this.formattedRealm}/${this.name}`}get formattedRealm(){return this.realm.replace(" ","-")}get characterElement(){return console.log(this.characterDisplay),!this.blizzard||this.blizzard.message||this.blizzard.status?this.raiderIO&&!this.raiderIO.statusCode?("Character unavailable"===this.blizzard.reason?this.error="BlizzardOutage":this.error="NoBlizzardYesRaiderIO",this.raiderIOOnlyElement):(this.error="NoBoth",this.blizzardAPIFailureElement):!this.raiderIO||this.raiderIO.statusCode?(this.error="NoRaiderIO",this.raiderIOFailureElement):(this.error="None",this.apiSuccessElement)}get characterDisplay(){const e=document.createElement("div");e.className="character class-"+this.formattedClass,e.setAttribute("data-hash",this.hash),e.setAttribute("data-access",this.error);const a=document.createElement("div");a.className="flex-row",e.appendChild(a);const r=document.createElement("div");r.className="character-info col-12 col-md-2",a.appendChild(r);const t=document.createElement("div");t.className="character-portrait",r.appendChild(t);const s=document.createElement("img");s.className="character-portrait__img",s.src=this.avatar,t.appendChild(s);const i=document.createElement("div");i.className="character-text",r.appendChild(i);const c=document.createElement("div");c.className="character-name col-12",c.innerText=this.name,i.appendChild(c);const n=document.createElement("div");n.className="col-12",n.innerText=this.race+" "+this.characterClass,i.appendChild(n);const o=document.createElement("ul");o.className="character-links",r.appendChild(o);const l=document.createElement("li"),d=document.createElement("a");d.href="https://www.worldofwarcraft.com/en-"+this.region+"/character/"+this.formattedRealm+"/"+this.name,d.target="_blank";const h=document.createElement("li"),m=document.createElement("li");return o.appendChild(l),o.appendChild(h),o.appendChild(m),e}get previousMythicPlusScores(){return this.raiderIO&&this.raiderIO.previous_mythic_plus_scores?Math.round(this.raiderIO.previous_mythic_plus_scores.all):0}get blizzardAPIFailureElement(){return`\n      <div class="character class-${this.formattedClass}" data-hash="${this.hash}" data-error="${this.error}">\n        <div class="flex-row">\n          <div class="character-info col-12 col-md-2">\n            <div class="character-portrait">\n                <img class="character-portrait__img" src="${this.avatar}">\n            </div>\n            <div class="character-text">\n                <div class="character-name col-12">${this.name}</div>\n                <div class="col-12">${this.race} ${this.characterClass}</div>\n            </div>\n            <ul class="character-links">\n                <li><a href="https://www.worldofwarcraft.com/en-${this.region}/character/${this.formattedRealm}/${this.name}" target="_blank"><img class="character-links__img" width="24" height="24" src="https://s3.amazonaws.com/files.enjin.com/632721/material/images/icons/WoW.png"></a></li>\n                <li><a href="${this.raiderIOProfile}" target="_blank"><img class="character-links__img" width="24" height="24" src="https://s3.amazonaws.com/files.enjin.com/632721/material/images/icons/raiderio.png"></a></li>\n                <li><a href="https://www.warcraftlogs.com/character/${this.region}/${this.formattedRealm}/${this.name}" target="_blank"><img class="character-links__img" width="24" height="24" src="https://s3.amazonaws.com/files.enjin.com/632721/material/images/icons/warcraftlogs.png"></a></li>\n            </ul>\n            <div class="remove-button">\n              ${this.removeButton}\n            </div>\n          </div>\n          <div class="character-info-block col-12 col-md">\n            <div class="character-header">Missing Data Warning</div>\n            <div class="character-error">${errorMap[this.error]}</div>\n          </div>\n        </div>\n      </div>`}get raiderIOOnlyElement(){return`\n    <div class="character class-${this.formattedClass}" data-hash="${this.hash}" data-error="${this.error}">\n      <div class="flex-row">\n        <div class="character-info col-12 col-md-2">\n            <div class="character-portrait">\n                <img class="character-portrait__img" src="${this.raiderIO.thumbnail_url}">\n            </div>\n            <div class="character-text">\n                <div class="character-name col-12">${this.name}</div>\n                <div class="col-12">${this.raiderIO.active_spec_name} ${this.characterClass}</div>\n            </div>\n            <ul class="character-links">\n                <li><a href="https://www.worldofwarcraft.com/en-${this.region}/character/${this.formattedRealm}/${this.name}" target="_blank"><img class="character-links__img" width="24" height="24" src="https://s3.amazonaws.com/files.enjin.com/632721/material/images/icons/WoW.png"></a></li>\n                <li><a href="${this.raiderIOProfile}" target="_blank"><img class="character-links__img" width="24" height="24" src="https://s3.amazonaws.com/files.enjin.com/632721/material/images/raiderio_square_xl.png"></a></li>\n                <li><a href="https://www.warcraftlogs.com/character/${this.region}/${this.formattedRealm}/${this.name}" target="_blank"><img class="character-links__img" width="24" height="24" src="https://s3.amazonaws.com/files.enjin.com/632721/material/images/icons/warcraftlogs.png"></a></li>\n            </ul>\n            <div class="remove-button">\n              ${this.removeButton}\n            </div>\n        </div>\n        <div class="character-info-block character-progression col-12 col-md">\n            <div class="character-header">\n                Recent Progression\n            </div>\n            <div class="character-progression-raids" data-region="${this.region}" data-realm="${this.realm}" data-name="${this.name}">\n                ${parseProgression(this.raiderIO.raid_progression)}\n            </div>\n        </div>\n        <div class="character-group character-info-block col-12 col-md">\n          <div class="flex-row">\n            <div class="character-raiderio col-12">\n              <div class="character-raiderio__score flex-row">\n                <div class="character-header col-12">\n                  RaiderIO Season Score\n                </div>\n                <div class="character-raiderio-score col">\n                  <span class="character-raiderio-score__current">\n                    <span class="character-raiderio-score__current-score">\n                      ${Math.round(this.raiderIO.mythic_plus_scores.all)}\n                    </span>\n                  </span>\n                  <span class="character-raiderio-score__title">Mythic+ Score<br>Current Season</span>\n                </div>\n                <div class="character-raiderio-score col">\n                  <span class="character-raiderio-score__current">\n                    <span class="character-raiderio-score__current-score">\n                      ${Math.round(this.raiderIO.mythic_plus_scores.all)}\n                    </span>\n                  </span>\n                  <span class="character-raiderio-score__title">Mythic+ Score<br>Last Season</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="character-info-block col-12 col-md">\n          <div class="character-header">Missing Data Warning</div>\n          <div class="character-error">${errorMap[this.error]}</div>\n        </div>\n      </div>\n    </div>`}get raiderIOFailureElement(){return`\n    <div class="character class-${this.formattedClass}" data-hash="${this.hash}" data-error="${this.error}">\n      <div class="flex-row">\n        <div class="character-info col-12 col-md-2">\n          <div class="character-portrait">\n              <img class="character-portrait__img" src="${thumbnail+this.blizzard.thumbnail}">\n          </div>\n          <div class="character-text">\n              <div class="character-name col-12">${this.name}</div>\n              <div class="col-12">${this.race} ${this.characterClass}</div>\n          </div>\n          <ul class="character-links">\n              <li><a href="https://www.worldofwarcraft.com/en-${this.region}/character/${this.formattedRealm}/${this.name}" target="_blank"><img class="character-links__img" width="24" height="24" src="https://s3.amazonaws.com/files.enjin.com/632721/material/images/icons/WoW.png"></a></li>\n              <li><a href="${this.raiderIOProfile}" target="_blank"><img class="character-links__img" width="24" height="24" src="https://s3.amazonaws.com/files.enjin.com/632721/material/images/raiderio_square_xl.png"></a></li>\n              <li><a href="https://www.warcraftlogs.com/character/${this.region}/${this.formattedRealm}/${this.name}" target="_blank"><img class="character-links__img" width="24" height="24" src="https://s3.amazonaws.com/files.enjin.com/632721/material/images/icons/warcraftlogs.png"></a></li>\n          </ul>\n          <div class="remove-button">\n            ${this.removeButton}\n          </div>\n        </div>\n        <div class="character-group character-info-block col-12 col-md">\n            <div class="flex-row">\n            <div class="character-raiderio col-12">\n              <div class="character-raiderio__score flex-row">\n                  <div class="character-header col-12">\n                      RaiderIO Season Score\n                  </div>\n                  <div class="character-raiderio-score col">\n                      <span class="character-raiderio-score__current">\n                          <span class="character-raiderio-score__current-score">\n                              Unknown\n                          </span>\n                      </span>\n                      <span class="character-raiderio-score__title">Mythic+ Score<br>Current Season</span>\n                  </div>\n                  <div class="character-raiderio-score col">\n                      <span class="character-raiderio-score__current">\n                          <span class="character-raiderio-score__current-score">\n                              Unknown\n                          </span>\n                      </span>\n                      <span class="character-raiderio-score__title">Mythic+ Score<br>Last Season</span>\n                  </div>\n                </div>\n              </div>\n                <div class="character-talent-info col-12">\n                    <div class="character-header col-12">\n                        Talents\n                    </div>\n                    <div class="character-talents">\n                        ${parseTalents(this.blizzard.talents)}\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="character-info-block character-gear col-12 col-md">\n          <div class="character-header">Character Gear <span class="character-gear-header__ilvl">\n            ${this.blizzard.items.averageItemLevelEquipped} eq.</span>\n          </div>\n          <div class="character-gear-items">\n            ${getItemTooltips(this.blizzard.items)}\n          </div>\n        </div>\n        <div class="character-info-block col-12 col-md">\n          <div class="character-header">Missing Data Warning</div>\n          <div class="character-error">${errorMap[this.error]}</div>\n        </div>\n      </div>\n    </div>\n    `}get apiSuccessElement(){return`\n    <div class="character class-${this.formattedClass}" data-hash="${this.hash}">\n      <div class="flex-row">\n        <div class="character-info col-12 col-md-2">\n            <div class="character-portrait">\n                <img class="character-portrait__img" src="${thumbnail+this.blizzard.thumbnail}">\n            </div>\n            <div class="character-text">\n                <div class="character-name col-12">${this.name}</div>\n                <div class="col-12">${this.raiderIO.active_spec_name} ${this.characterClass}</div>\n            </div>\n            <ul class="character-links">\n                <li><a href="https://www.worldofwarcraft.com/en-${this.region}/character/${this.formattedRealm}/${this.name}" target="_blank"><img class="character-links__img" width="24" height="24" src="https://s3.amazonaws.com/files.enjin.com/632721/material/images/icons/WoW.png"></a></li>\n                <li><a href="${this.raiderIOProfile}" target="_blank"><img class="character-links__img" width="24" height="24" src="https://s3.amazonaws.com/files.enjin.com/632721/material/images/raiderio_square_xl.png"></a></li>\n                <li><a href="https://www.warcraftlogs.com/character/${this.region}/${this.formattedRealm}/${this.name}" target="_blank"><img class="character-links__img" width="24" height="24" src="https://s3.amazonaws.com/files.enjin.com/632721/material/images/icons/warcraftlogs.png"></a></li>\n            </ul>\n            <div class="remove-button">\n              ${this.removeButton}\n            </div>\n        </div>\n        <div class="character-info-block character-progression col-12 col-md">\n            <div class="character-header">\n                Recent Progression\n            </div>\n            <div class="character-progression-raids" data-region="${this.region}" data-realm="${this.realm}" data-name="${this.name}">\n                ${parseProgression(this.raiderIO.raid_progression)}\n            </div>\n        </div>\n        <div class="character-group character-info-block col-12 col-md">\n            <div class="flex-row">\n                <div class="character-raiderio col-12">\n                    <div class="character-raiderio__score flex-row">\n                        <div class="character-header col-12">\n                            RaiderIO Season Score\n                        </div>\n                        <div class="character-raiderio-score col">\n                            <span class="character-raiderio-score__current">\n                                <span class="character-raiderio-score__current-score">\n                                    ${this.previousMythicPlusScores}\n                                </span>\n                            </span>\n                            <span class="character-raiderio-score__title">Mythic+ Score<br>Current Season</span>\n                        </div>\n                        <div class="character-raiderio-score col">\n                            <span class="character-raiderio-score__current">\n                                <span class="character-raiderio-score__current-score">\n                                    ${this.previousMythicPlusScores}\n                                </span>\n                            </span>\n                            <span class="character-raiderio-score__title">Mythic+ Score<br>Last Season</span>\n                        </div>\n                    </div>\n                </div>\n                <div class="character-talent-info col-12">\n                    <div class="character-header col-12">\n                        Talents\n                    </div>\n                    <div class="character-talents">\n                        ${parseTalents(this.blizzard.talents)}\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="character-info-block character-gear col-12 col-md">\n            <div class="character-header">Character Gear: <span class="character-gear-header__ilvl">\n                ${this.blizzard.items.averageItemLevelEquipped} Equipped</span>\n            </div>\n            <div class="character-gear__amulet">${parseAmulet(this.blizzard.items.neck)}</div>\n            <div class="character-gear-items">\n              ${getItemTooltips(this.blizzard.items)}\n            </div>\n        </div>\n      </div>\n    </div>`}get removeButton(){return this.isRemovable?`<div class="col-12">\n        <button class="appform-remove mdc-button mdc-button--raised" data-hash="${this.hash}" onclick="appRemoveCallback(this)" type="button">\n          Remove\n        </button>\n      </div>`:""}getData(){return Promise.all([fetch(this.blizzardApi).then(e=>e.json()),fetch(this.raiderIOApi).then(e=>e.json())].map(e=>e.catch(e=>e))).then(e=>{console.log(e),this.blizzard=e[0],this.raiderIO=e[1]})}}function parseAmulet(e){return e&&e.azeriteItem?`<p>Heart of Azeroth level ${e.azeriteItem.azeriteLevel} and ${Math.floor(e.azeriteItem.azeriteExperience/e.azeriteItem.azeriteExperienceRemaining*100)}%.</p>`:""}function parseTalents(e){let a="";return e.find(e=>!0===e.selected).talents.forEach(e=>{e&&(a+=`<a style='order: ${e.tier}' class='character-talents-link' href='https://www.wowhead.com/spell=${e.spell.id}'><img class='character-talents-img' src='https://render-us.worldofwarcraft.com/icons/56/${e.spell.icon}.jpg'></a>`)}),a}function parseProgression(raids){let elements="";return Object.keys(raids).forEach(raid=>{elements+=`\n        <div class='character-progression__raid flex-row'>\n            <div class='col-12'>\n                <span class='character-progression__raid-title'>${raid.replace(/-/g," ")}</span>\n                <span class='character-progression__raid-summary'>${raids[raid].summary}</span>\n            </div>\n            <div role='progressbar' class='mdc-linear-progress col-12' data-scale="${eval(raids[raid].summary.slice(0,-2))}">\n                <div class='mdc-linear-progress__buffering-dots'></div>\n                <div class='mdc-linear-progress__buffer'></div>\n                <div class='mdc-linear-progress__bar mdc-linear-progress__primary-bar'>\n                    <span class='mdc-linear-progress__bar-inner'></span>\n                </div>\n            </div>\n        </div>`}),elements}function getItemTooltips(e){let a="";for(const r of slots)if(e[r]){let t="ilvl="+e[r].itemLevel+"&amp;";e[r].tooltipParams.set&&(t+="pcs="+e[r].tooltipParams.set.join(":")+"&amp;"),e[r].tooltipParams.enchant&&(t+="ench="+e[r].tooltipParams.enchant+"&amp;"),e[r].tooltipParams.gem0&&(t+="gems="+e[r].tooltipParams.gem0+"&amp;"),a+=`<a class='character-gear-items-item' href='https://www.wowhead.com/item=${e[r].id}' data-wowhead='${t}' target='_blank'>\n            <img class='character-gear-items-item__img quality-border-${e[r].quality}' src='https://render-us.worldofwarcraft.com/icons/56/${e[r].icon}.jpg'>\n        </a>`}return a}},49:function(e,a,r){"use strict";r.r(a),r.d(a,"default",function(){return h});var t=r(1),s=r(31),i=r(19),c=r(20),n=r(30),o=r(6);let l=[];async function d(){const e=document.querySelector(".form-wow-answer").querySelector(".form-question-body"),a=function(){if(!document.querySelector(".form-wow-answer"))return void console.warn("[Application]: Character question not found.");const e=document.querySelector(".m_appform"),a=document.querySelector(".v2_system_dashboard");if(e){const a=e.querySelector('input[type="hidden"]');if(a&&a.value)return JSON.parse(a.value)}else if(a){const e=a.querySelector(".character_list");if(e&&e.dataset.cfg)return JSON.parse(JSON.parse(e.dataset.cfg).value)}return null}();if(!a||0===a.length)return;let r=[];for(const e in a)l.includes(e)||(l.push(e),r.push(new n.a(a[e])));Promise.all(r.map(e=>e.getData())).then(()=>{e.insertAdjacentHTML("beforeend",r.map(e=>e.characterElement).join("")),setTimeout(i.a,500)})}function h(){const e=document.querySelector(".v2_system_dashboard"),a=document.querySelector(".m_appform");e?(m(),u(e)):a&&u(a)}function m(){d(),document.querySelectorAll('img[src^="https://assets-cloud.enjin.com/users/"],img[src^="https://resources.enjin.com/profile/images/"],img[src$="site_logo/small.png"]').forEach(e=>e.src=e.src.replace("small","medium")),document.querySelectorAll('img[src*="/module_appform/thumb"]').forEach(e=>e.src=e.src.replace("thumb","full")),document.querySelectorAll(".images a").forEach(function(e){e.onclick=function(a){a.preventDefault(),c.create(`<img src='${e.getAttribute("href")}'>`).show()}}),document.querySelectorAll(".bbcode_url").forEach(e=>e.setAttribute("target","_blank"))}function u(e){new MutationObserver(a=>{e.classList.contains("m_appform")?a.forEach(e=>{e.addedNodes.forEach(e=>{e.classList&&"character"==e.classList.value&&m()})}):e.classList.contains("v2_system_dashboard")&&(!function(){const e=document.querySelector(".fa.fa-trash"),a=document.querySelector(".app_header");e&&a&&!a.classList.contains("app_header_initialized")&&(e.parentNode.insertAdjacentText("beforeend","Trash"),e.remove(),document.querySelector(".app_header").classList.add("app_header_initialized")),document.querySelectorAll(".menu_link, .app_sidebar_block").forEach(e=>t.a.attachTo(e))}(),a.forEach(e=>{e.removedNodes.forEach(e=>{e.classList&&"app_inner_area m_system-dashboard"==e.classList.value&&(l.length=0,console.info("[Application]: Application removed: ",l))}),e.addedNodes.forEach(e=>{e.classList&&e.contains(e.querySelector(".character_list"))&&(console.info("[Application]: Application added: ",l),m())})}))}).observe(e,{childList:!0,subtree:!0})}window.appRemoveCallback=function(e){const a=e.dataset.hash,r=document.querySelector('.character[data-char="'+a+'"]'),t=document.querySelector('.character[data-hash="'+a+'"]'),i=new s.a(document.querySelector(".mdc-snackbar"));return r&&r.querySelector(".remove a").click(),t&&(t.remove(),l=l.filter(e=>e!==a)),i.show({message:"Character destroyed, that was mean.",actionText:"Neat",actionHandler:!1}),!1},document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".v2_system_dashboard"),a=document.querySelector(".m_appform");Object(o.a)(),e?(m(),u(e)):a&&u(a)})},6:function(e,a,r){"use strict";var t=r(1),s=r(13),i=r(8),c=r(12),n=r(11),o=r(10),l=r(2);const d=document.querySelector(".mdc-drawer"),h=document.querySelector(".mdc-top-app-bar"),m=document.querySelector(".mdc-tab-bar");function u(){!async function(){const e=document.getElementById("user-button"),a={jsonrpc:"2.0",id:Math.round(899999*Math.random()+1e5),method:"User.get"};try{const r=await Object(l.b)("/api/v1/api.php",a),c=r.result.logged_in?"#registered-menu":"#guest-menu",n=document.querySelector(c),o=new s.a(n),d=document.getElementById("user-button");if(r.result.logged_in){const a=document.querySelector(".join-site");if(e.innerHTML=`<div class='user-menu__avatar user-menu__slide'>\n          <img class='user-menu__img' src='${r.result.avatar_medium}'>\n        </div>`,a){const e=n.querySelector(".mdc-list");e.insertAdjacentHTML("beforeend","<li class='mdc-list-item' role='menuitem' tabindex='0'>\n            <a class='join-us' href='#' onclick='Enjin_Core.joinWebsiteRegular(event);return false;' rel='nofollow'>Join Website</a>\n          </li>"),new link.MDCLink(e).singleSelection=!0}(r.result.admin_access.full||r.result.admin_access.limited)&&n.setAttribute("data-admin","True"),n.querySelectorAll(".mdc-list-item").forEach(e=>{t.a.attachTo(e)}),i.a.attachTo(document.querySelector(".mdc-menu-surface")),o.setAnchorMargin({top:50}),t.a.attachTo(document.querySelector(".user-menu__avatar"))}else e.innerHTML='Hello, Guest <i class="material-icons">keyboard_arrow_down</i>';d.addEventListener("click",()=>o.open=!o.open)}catch(e){console.error("User menu error: "+e)}}(),function(){const e=c.a.attachTo(d),a=n.a.attachTo(h);o.a.attachTo(m),a.listen("MDCTopAppBar:nav",()=>{e.open=!e.open})}(),function(){const e=document.querySelector(".window_header .window_page");e&&(e.innerHTML='<i class="material-icons">settings</i>',document.addEventListener("click",e=>{let a=document.querySelector(".button_click.active");!a||e.target.closest(".button_window")||e.target.closest(".button_click.active")||a.click()}))}(),function(){const e=document.getElementById("enjin-tray");let a=0,r=!1;window.addEventListener("scroll",function(){a=window.scrollY,r||(window.requestAnimationFrame(()=>{!function(e,a){a>0?e.classList.add("user_tray__scrolled"):e.classList.remove("user_tray__scrolled")}(e,a),r=!1}),r=!0)})}()}function p(e,a){const r=document.createElement("div"),t=document.createElement("div"),s=document.createElement("div");return s.classList.add("discord-widget__members"),r.classList.add("discord-widget__channel"),r.setAttribute("data-id",a),t.classList.add("discord-widget__channel__name"),t.innerHTML=e,r.appendChild(t),r.appendChild(s),r}function v(e,a,r){const t=document.createElement("div"),s=document.createElement("div"),i=document.createElement("img"),c=document.createElement("span");if(t.classList.add("discord-widget-member"),s.classList.add("discord-widget-member__avatar"),i.src=a,c.innerHTML=e,c.classList.add("discord-widget-member__name"),s.appendChild(i),t.appendChild(s),t.appendChild(c),r){const e=document.createElement("span");e.classList.add("discord-widget-member__game"),e.innerHTML=r.name,t.appendChild(e)}return t}function f(){current_page_id,async function(){const e=document.querySelector(".discord-parent");let a=0;if(e)try{const r=await Object(l.a)("https://discordapp.com/api/servers/142372929961721856/embed.json"),t=r.channels.sort((e,a)=>e.position-a.position),s=document.createElement("div");s.classList.add("discord-widget");for(let e of t)s.appendChild(p(e.name,e.id));s.appendChild(p("Online Users",0));for(const e of r.members){e.channel_id&&s.querySelector('div[data-id="'+e.channel_id+'"]').appendChild(v(e.username,e.avatar_url));const r=s.querySelector('div[data-id="0"] .discord-widget__members');"online"===e.status&&(a++,r.appendChild(v(e.username,e.avatar_url,e.game)))}const i=document.querySelector("#discord-box .discord__description");if(i){const e=`${a} Members Currently Online`;i.innerHTML=e}e.appendChild(s)}catch(e){console.error("Discord widget failure "+e)}}()}function g(){document.querySelector('.meta[name="viewport"]')&&(document.querySelectorAll('head link[rel="icon"]').forEach(e=>e.remove()),document.querySelector("head").insertAdjacentHTML("beforeend",'<meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <link rel="icon" href="https://s3.amazonaws.com/files.enjin.com/632721/material/images/favicon.png" sizes="32x32" type="image/png">')),u(),f()}r.d(a,"a",function(){return g})}});